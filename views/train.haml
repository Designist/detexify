!!!
%html
  %head
    %title= i18n.train.title
    %meta{:"http-equiv" => "Content-Type", :content => "text/html; charset=utf-8"}
    %script{:type => 'text/javascript', :src => "/js/jquery-1.3.2.min.js"}
    %script{:type => 'text/javascript', :src => "/js/jquery.domec-1.0.0.js"}
    %script{:type => 'text/javascript', :src => "/js/json2.js"}
    %script{:type => 'text/javascript', :src => "/js/mathtex.js"}
    %script{:type => 'text/javascript', :src => "/js/canvassify.js"}
    %script{:type => 'text/javascript', :src => "/js/train.js"}
    %link{ :rel => "stylesheet", :type => "text/css", :href => "/css/style.css"}
    %style
      canvas { border: 1px solid black; }
      canvas#tafel { display: block }
  %body#train
    #everything
      %h1= i18n.train.header
      :markdown
        #{i18n.train.subheader}
      %h2
        %code#tex{:style => 'font-size:2em;'}= @tex
        %small= " (#{@samples} #{i18n.patterns})"
        \:
        %img{:alt=>"tex:#{@tex}"}
      
      #canvasarea
        %canvas#tafel{:width=>"400", :height=>"400"}
          = i18n.canvas.nocanvas
        %a#trainpattern{:href => '#'}= i18n.training
        %a#clear{:href => '#'}= i18n.clear
        #canvaserror= i18n.canvas.error
        
      #info
        :markdown
          #{i18n.train.info}
          
    :javascript
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      </script>
      <script type="text/javascript">
      try {
      var pageTracker = _gat._getTracker("UA-8668142-2");
      pageTracker._trackPageview();
      } catch(err) {}
          